<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Java Sorting Algorithms</title>
    <!-- Bootstrap - CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Bootstrap Icons - CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <!-- Charts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

    <!-- Color Mod -->
    <script src="/JavaAlgorithms/resources/js/color-mode.js"></script>

    <!-- amChart -->
    <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/hierarchy.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>

    <!-- Favicons : 웹 아이콘 설정 -->
    <link rel="apple-touch-icon" href="/JavaAlgorithms/resources/icon/java-touch-icon.png" sizes="180x180">
    <link rel="icon" href="/JavaAlgorithms/resources/icon/java-32x32.png" sizes="32x32" type="image/png">
    <link rel="icon" href="/JavaAlgorithms/resources/icon/java-16x16.png" sizes="16x16" type="image/png">
    <link rel="manifest" href="https://getbootstrap.kr/docs/5.3/assets/img/favicons/manifest.json">
    <link rel="mask-icon" href="https://getbootstrap.kr/docs/5.3/assets/img/favicons/safari-pinned-tab.svg"
        color="#712cf9">
    <link rel="icon" href="/JavaAlgorithms/resources/icon/java.ico">
    <meta name="theme-color" content="#712cf9">
    <link href="/JavaAlgorithms/resources/css/bootstrap-icons.min.css" rel="stylesheet">
    <link href="/JavaAlgorithms/resources/css/dashboard.css" rel="stylesheet">

    <!-- Prism CSS -->
    <link href="/JavaAlgorithms/resources/css/prism.css" rel="stylesheet" type="text/css">

    <!-- Custom CSS -->
    <link href="/JavaAlgorithms/resources/css/style.css" rel="stylesheet" type="text/css">
</head>

<body>
    <div data-include-path="/JavaAlgorithms/templates/layouts/header.html"></div>
    <!-- Main DOM -->
    <div class="container-fluid">
        <div class="row">
            <div data-include-path="/JavaAlgorithms/templates/layouts/nav.html"></div>
            <!-- MainBoard -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-mds4" id="dashboard">

                <div
                    class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1>Tree Sort</h1>
                </div>
                <p><strong>Tree Sort</strong> is a sorting algorithm that builds a binary search tree from the elements
                    to be sorted, and then traverses the tree in-order to obtain the sorted sequence.</p>

                <div
                    class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h2>History</h2>
                </div>
                <p>Tree Sort was first proposed by J. W. J. Williams in 1964, along with the invention of Heap Sort. It
                    is based on the concept of binary search trees and provides an efficient way to sort data.</p>

                <div
                    class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h2>Working Principle</h2>
                </div>
                <p>Consider an array to be sorted: <code>[5, 3, 8, 4, 2]</code>.</p>

                <h5>Step.1</h5>
                <ul>
                    <li>Insert each element of the array into a binary search tree</li>
                </ul>

                <h5>Step.2</h5>
                <ul>
                    <li>Traverse the binary search tree in-order to obtain the sorted sequence</li>
                </ul>

                <h5>Result</h5>
                <p><code>[2, 3, 4, 5, 8]</code> (sorted)</p>

                <div
                    class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h2>Time Complexity</h2>
                </div>
                <ul>
                    <li><strong>Time complexity:</strong> \(O(n \log n)\) in average case; \(O(n^2)\) in worst case (if
                        the tree is unbalanced)</li>
                </ul>

                <div
                    class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h2>Summary</h2>
                </div>
                <p>Tree Sort is a sorting algorithm based on binary search trees. It has a time complexity of \(O(n \log
                    n)\) in the average case and is suitable for sorting small to moderate-sized datasets. This page has
                    provided an explanation of Tree Sort, including its definition, working principle, time complexity,
                    and history.</p>
                <div
                    class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h2>Java Code</h2>
                </div>

                <div class="collapse show" id="collapse-code">
                    <pre class="line-numbers">
        <code class="language-java">Node root;
        int index = 0;
        
        class Node {
            int value;
            Node left, right;
    
            public Node(int value) {
                this.value = value;
                left = right = null;
            }
        }</code>
                    </pre>

                    <pre class="line-numbers">
        <code class="language-java">public void sort() {
            int[] list = super.getList();
    
            for (int i = 0; i < list.length; i++) {
                insertNode(list[i]);
            }
            popNode(list, root);
        }</code>
                    </pre>

                    <pre class="line-numbers">
        <code class="language-java">private void insertNode(Integer value) {
            Node node = new Node(value);
    
            if (root == null) {
                this.root = node;
            } else {
                Node temp = root;
                while (true) {
                    if (temp.value > value) {
                        if (temp.left == null) {
                            temp.left = node;
                            return;
                        } else {
                            temp = temp.left;
                        }
                    } else {
                        if (temp.right == null) {
                            temp.right = node;
                            return;
                        } else {
                            temp = temp.right;
                        }
                    }
                }
    
            }
        }</code>
                        </pre>

                    <pre class="line-numbers">
        <code class="language-java">private void popNode(int[] list, Node node) {
            if (node != null) {
                popNode(list, node.left);
                list[index++] = node.value;
                popNode(list, node.right);
            }
        }</code>
                        </pre>
                </div>

                <div
                    class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h2 id="chart_area">Visualization</h2>
                    <i class="bi bi-gear-fill" data-bs-toggle="collapse" href="#collapse-setting" role="button"
                        aria-expanded="false" aria-controls="collapse"></i>
                </div>
                <div class="collapse" id="collapse-setting">
                    <div class="card card-body">
                        <div data-include-path="/JavaAlgorithms/templates/sorting/ArraySetting.html">
                        </div>

                        <input type="range" class="form-range" min="100" max="2000" value="500" id="speed">
                    </div>
                </div>

                <div class="collapse show" id="collapse-chart">
                    <!-- Tree Chart -->
                    <div class="d-flex flex-column justify-content-center">
                        <!-- HTML -->
                        <div id="treeChart" style="display: block; width: 100%; height: 500px;"></div>

                        <div class="card card-body">
                            <div id="treeList"></div>
                        </div>

                        <div class="row mx-auto p-2">
                            <div class="col">
                                <button type="button" class="btn btn-primary" id="BarSortingBtn" onclick="tree_start()">
                                    <i class="bi bi-play-fill"></i>
                                </button>
                            </div>
                            <div class="col">
                                <button type="button" class="btn btn-primary" id="pauseBtn" onclick="tree_pause()">
                                    <i class="bi bi-pause-fill"></i>
                                </button>
                            </div>
                            <div class="col">
                                <button type="button" class="btn btn-primary" id="resetBtn" onclick="tree_reset()">
                                    <i class="bi bi-arrow-clockwise"></i>
                                </button>

                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
    <!-- Prism JS -->
    <script src="/JavaAlgorithms/resources/js/prism.js"></script>

    <script type="text/javascript" src="/JavaAlgorithms/resources/js/includeHTML.js"></script>
    <!-- Jquery -->
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <!-- Custom JS -->
    <script type="text/javascript" src="/JavaAlgorithms/resources/js/global.js"></script>
    <script type="text/javascript" src="/JavaAlgorithms/resources/js/sorting.js"></script>
    <script>

        function tree_start() {
            now = new Date().getTime();
            var data = [...firstArray];
            myTreeChart.running = true;
            var tree = [];
            for (var i = 0; i < data.length; i++) {
                tree_add(tree, i, data[i]);
                myTreeChart.update(JSON.parse(JSON.stringify(tree)));
                myTreeChart.removeListChild();
            }
            tree_pop(tree, tree[0]);
        }

        function tree_add(tree, index, value) {
            var data = {id: index, name: value, fill: '#333d4d'};
            if (tree.length == 0) {
                tree.push(data);
            } else {
                var temp = tree[0];
                while (true) {
                    if (!temp.hasOwnProperty('children')) {
                        temp.children = [{id: null, circle: {fill: "#FFFFFF"}, fill: '#333d4d'}, {id: null, circle: {fill: "#FFFFFF"}, fill: '#333d4d'}];
                    }
                    if (temp.name > value) {
                        if (temp.children[0].id == null) {
                            temp.children[0] = data;
                            return;
                        } else {
                            temp = temp.children[0];
                        }
                    } else {
                        if (temp.children[1].id == null) {
                            temp.children[1] = data;
                            return;
                        } else {
                            temp = temp.children[1];
                        }
                    }
                }
            }
        }

        function tree_pop(tree, node) {
            if (node.id != null) {
                if (node.hasOwnProperty('children')) {
                    tree_pop(tree, node.children[0]);
                }
                myTreeChart.highLight(tree, node.name);
                myTreeChart.addListChild(node.name);

                if (node.hasOwnProperty('children')) {
                    tree_pop(tree, node.children[1]);
                }
            }
        }

    </script>
    <!-- Chart js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.0.1/chart.umd.js"
        integrity="sha512-7DgGWBKHddtgZ9Cgu8aGfJXvgcVv4SWSESomRtghob4k4orCBUTSRQ4s5SaC2Rz+OptMqNk0aHHsaUBk6fzIXw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Bootstrap - JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>